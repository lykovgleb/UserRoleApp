<form [formGroup]="userForm" (ngSubmit)="submit()">
    <div class="rolesPull">
        <label for="roles">Choose roles:</label>
        <div *ngFor="let role of roles$ |async">
            <div *ngIf="!userForm.value.userRoles.includes(role)">
                <div *ngIf="role.id !== editedRoleId">
                    <button type="button" (click)="addRoleToUser(role)">{{role.name}}</button>
                    <button type="button" (click)="editeRole(role)">Edit</button>
                </div>
                <app-change-role *ngIf="role.id === editedRoleId" (saved)="savedRole()"></app-change-role>
            </div>
        </div>
        <app-add-role></app-add-role>
    </div>

    <div class="user">
        <div class="form-group">
            <label for="userName">User name:</label>
            <input id="userName" type="text" class="form-control" formControlName="userName" />
        </div>

        <div class="form-group">
            <label>Roles:</label>
            <button *ngFor="let userRole of this.userForm.value.userRoles" type="button"
                (click)="removeRoleFromUser(userRole)">
                {{userRole.name}}
            </button>
        </div>
    </div>

    <button type="submit">Save</button>
</form>